<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Payment</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
    />
    <style>
      /* Include your existing styles here */
      body,
      h2,
      h3,
      p {
        margin: 0;
        padding: 0;
      }

      body {
        font-family: Arial, sans-serif;
        color: #333;
        line-height: 1.6;
        padding: 0;
        margin: 0;
        display: flex;
        justify-content: center;
        align-items: flex-start;
        min-height: 100vh;
        box-sizing: border-box;
        background: url("images/cow.jpg") no-repeat center center fixed;
        background-size: cover;
        overflow: hidden;
      }

      .container {
        position: relative;
        z-index: 1;
        background: #fff;
        padding: 40px 20px 20px;
        border-radius: 8px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        max-width: 800px;
        width: 100%;
        box-sizing: border-box;
        max-height: 100vh;
        overflow-y: auto;
      }

      h3 {
        text-align: center;
        color: #333;
        margin-bottom: 20px;
      }

      .row {
        display: flex;
        flex-wrap: wrap;
        margin: -10px;
      }

      .col-50,
      .col-75 {
        flex: 0 0 100%;
        max-width: 100%;
        padding: 10px;
        box-sizing: border-box;
      }

      input[type="text"],
      input[type="email"],
      input[type="password"] {
        width: 100%;
        padding: 10px;
        border: 1px solid #ddd;
        border-radius: 4px;
        box-sizing: border-box;
        margin-bottom: 10px;
        font-size: 16px;
      }

      input[type="submit"] {
        background-color: #4caf50;
        color: white;
        border: none;
        padding: 15px;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        font-size: 16px;
        border-radius: 4px;
        cursor: pointer;
        transition: background-color 0.3s ease;
        width: 100%;
        box-sizing: border-box;
      }

      input[type="submit"]:hover {
        background-color: #45a049;
      }

      label {
        display: block;
        margin-bottom: 5px;
        font-weight: bold;
      }

      .icon-container {
        margin-bottom: 15px;
        text-align: center;
      }

      .icon-container i {
        font-size: 24px;
        margin-right: 10px;
      }

      input[type="checkbox"] {
        margin-right: 10px;
      }

      .btn {
        background-color: #4caf50;
        color: white;
        border: none;
        padding: 15px;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        font-size: 16px;
        border-radius: 4px;
        cursor: pointer;
        transition: background-color 0.3s ease;
        width: 100%;
        box-sizing: border-box;
      }

      .btn:hover {
        background-color: #45a049;
      }

      @media (max-width: 768px) {
        .col-50,
        .col-75 {
          flex: 0 0 100%;
          max-width: 100%;
          padding: 10px;
          box-sizing: border-box;
        }
      }

      @media (max-width: 480px) {
        h3 {
          font-size: 24px;
        }
        input[type="text"],
        input[type="email"],
        input[type="password"],
        input[type="submit"] {
          font-size: 14px;
        }
      }
    </style>
  </head>
  <body>
    <div class="row">
      <div class="col-75">
        <div class="container">
          <h3>Total Amount: â‚¹<span id="total-amount">0.00</span></h3>
          <form action="payment.php" method="POST">
            <div class="row">
              <div class="col-50">
                <h3>Billing Address</h3>
                <label for="fname"><i class="fa fa-user"></i> Full Name</label>
                <input
                  type="text"
                  id="fname"
                  name="firstname"
                  placeholder="Enter Name"
                  required
                />
                <label for="email"><i class="fa fa-envelope"></i> Email</label>
                <input
                  type="email"
                  id="email"
                  name="email"
                  placeholder="Enter Email"
                  required
                />
                <label for="adr"
                  ><i class="fa fa-address-card-o"></i> Address</label
                >
                <input
                  type="text"
                  id="adr"
                  name="address"
                  placeholder="Enter Address"
                  required
                />
                <label for="city"><i class="fa fa-institution"></i> City</label>
                <input
                  type="text"
                  id="city"
                  name="city"
                  placeholder="Enter City"
                  required
                />

                <div class="row">
                  <div class="col-50">
                    <label for="state">State</label>
                    <input
                      type="text"
                      id="state"
                      name="state"
                      placeholder="Enter State"
                      required
                    />
                  </div>
                  <div class="col-50">
                    <label for="pincode">Pincode</label>
                    <input
                      type="text"
                      id="pincode"
                      name="pincode"
                      placeholder="Enter Pincode"
                      pattern="\d{6}"
                      required
                    />
                  </div>
                </div>
              </div>

              <div class="col-50">
                <h3>Payment</h3>
                <label for="cname">Accepted Cards</label>
                <div class="icon-container">
                  <i class="fa fa-cc-visa" style="color: navy"></i>
                  <i class="fa fa-cc-amex" style="color: blue"></i>
                  <i class="fa fa-cc-mastercard" style="color: red"></i>
                  <i class="fa fa-cc-discover" style="color: orange"></i>
                </div>
                <label for="cname">Name on Card</label>
                <input
                  type="text"
                  id="cname"
                  name="cardname"
                  placeholder="Enter Card Holder Name"
                  required
                />
                <label for="ccnum">Credit Card Number</label>
                <input
                  type="text"
                  id="ccnum"
                  name="cardnumber"
                  placeholder="1111-2222-3333-4444"
                  pattern="\d{4}\d{4}\d{4}\d{4}"
                  required
                />
                <label for="expmonth">Expiration Month</label>
                <input
                  type="text"
                  id="expmonth"
                  name="expmonth"
                  placeholder="MM"
                  pattern="\d{2}"
                  required
                />
                <div class="row">
                  <div class="col-50">
                    <label for="expyear">Expiration Year</label>
                    <input
                      type="text"
                      id="expyear"
                      name="expyear"
                      placeholder="YYYY"
                      pattern="\d{4}"
                      required
                    />
                  </div>
                  <div class="col-50">
                    <label for="cvv">CVV</label>
                    <input
                      type="text"
                      id="cvv"
                      name="cvv"
                      placeholder="Enter CVV"
                      pattern="\d{3,4}"
                      required
                    />
                  </div>
                </div>
                <!-- Hidden input to store the final amount -->
                <input type="hidden" id="final-amount" name="amount" value="0.00" />
              </div>
            </div>
            <label>
              <input type="checkbox" checked="checked" name="sameadr" />
              Shipping Address same as Billing
            </label>
            <input type="submit" value="Continue to Payment" class="btn" />
          </form>
        </div>
      </div>
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        // Retrieve the final amount from localStorage
        const finalAmount = localStorage.getItem("finalAmount");

        // Debugging: Log the retrieved value to the console
        console.log("Final Amount from localStorage:", finalAmount);

        // Check if the finalAmount exists and display it
        if (finalAmount) {
          document.getElementById("total-amount").textContent = finalAmount;
          document.getElementById("final-amount").value = finalAmount; // Set the hidden input value
        } else {
          console.error("Final Amount is not found in localStorage.");
          document.getElementById("total-amount").textContent =
            "Error: Amount not available.";
        }
      });
    </script>
  </body>
</html>
